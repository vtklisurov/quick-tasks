<!DOCTYPE html>
<head>
  <style>

  </style>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script>

  var cities = [];
  var speed = []
  var cnts=prompt();
  var data=cnts.split(" ");
  var speeds = []
  doIt(data[0],data[1]);

  async function doIt (cityCnt, roadCnt) {

    for (var i = 0; i <= cityCnt; i++) {
      cities.push({});
      cities[i].neighbors = [];
    }
    for (var j = 0; j < roadCnt; j++) {
      var input = prompt("City1, City2, Speed");
      var road = input.split(" ");
      speeds.push(road[2]);
      cities[road[0]].neighbors.push({city: road[1]});
      cities[road[0]].neighbors[cities[road[0]].neighbors.length-1].speed=road[2];
      cities[road[1]].neighbors.push({city: road[0]});
      cities[road[1]].neighbors[cities[road[1]].neighbors.length-1].speed=road[2];
    }


    speeds=speeds.sort();
    var min;
    var max;
    var notDone=true;
    var diffs = [];
    var mindiff = 1000000000;
    var last = mindiff;
    cnt=0

    while(cnt++<100){
      for (var i = 0; i < speeds.length; i++) {
        for (var j = i; j < speeds.length; j++) {
          //if(Math.abs(speeds[j]-speeds[i] && test(speeds[i],speeds[j]))) test(speeds[i], speeds[j]);
          if (Math.abs(speeds[j]-speeds[i])<mindiff && !diffs.includes(speeds[j]-speeds[i]))
          {
            mindiff = Math.abs(speeds[j]-speeds[i]);
            min = Math.min(speeds[i],speeds[j]);
            max = Math.max(speeds[i],speeds[j]);
          }
        }
      }
      diffs.push(mindiff);
      last = mindiff;
      mindiff = 1000000000

      if(await test(min ,max) == true){
        console.log('Answer: ' + min + ' ' + max)
        return
      }
    }
  }

  function test (min, max) {

    var visited = [];
    for (var i = 0; i < cities.length; i++) {
      visited.push(false)
    }

    stack = []
    stack.push(1);

    while (stack.length!==0)
    {
      s = stack[stack.length - 1];
      stack.pop();

      visited[s] = true;

      for (var i = 0; i <cities[s].neighbors.length; i++)
      {
        if (!visited[cities[s].neighbors[i].city] && Number(cities[s].neighbors[i].speed) >= min && Number(cities[s].neighbors[i].speed) <= max)
        stack.push(cities[s].neighbors[i].city);
      }

    }

    for (var i = 1; i < visited.length; i++) {
      if (!visited[i] ) {
        visited.fill(false);
        return false;
      }
    }
    return true;
  }

  </script>
</head>
<body>

</body>
